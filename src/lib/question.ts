import type { MessagePlatform } from '@prisma/client';

/**
 * All question variants supported by the game. For more information about individual variants, see
 * the variant questions generators in `$lib/server`.
 */
export type QuestionVariant =
	| 'continue'
	| 'duration'
	// The player guesses the whether the conversation is fake or real.
	| 'fake'
	| 'platform'
	| 'react'
	| 'when'
	| 'who';

/**
 * Represents a message in a conversation to be used in a question This is slightly different from
 * the representation in the database to allow simplified rendering.
 */
export type QuestionMessage = {
	content: string;
	date: Date;
	isMedia: boolean;
	participant: string;
	platform: MessagePlatform;
	reaction: string;
};

/**
 * Represents a question that is asked to the player. This is generated by the server and rendered
 * by the client. All question variants share the same format, but may be rendered differently.
 */
export type Question = {
	answer: string;
	choices: Array<string>;
	messages: Array<QuestionMessage>;
	variant: QuestionVariant;
};
